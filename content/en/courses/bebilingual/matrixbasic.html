---
date: "2020-02-10T00:00:00+01:00"
draft: false
linktitle: Matrices
menu:
  bebilingual:
    parent: Contents
    weight: 3
title: Matrices - R vs. Python
type: docs
weight: 3    # related to next page to show
header:
  image: "r-vs-python.jpg"
---



<div id="section" class="section level2">
<h2></h2>
<div id="python-setup" class="section level3">
<h3>Python setup</h3>
<p>The python codes below are written using the NumPy python package, so import NumPy before we run them.</p>
<pre class="python"><code>import numpy as np</code></pre>
</div>
<div id="define" class="section level3">
<h3>Define</h3>
<p>Method 1</p>
<pre class="python"><code># Python
m = np.array([[4, 6, 9],
              [1, 3, 4],
              [1, 2, 3]])
m              </code></pre>
<pre><code>#result&gt;&gt; array([[4, 6, 9],
#result&gt;&gt;        [1, 3, 4],
#result&gt;&gt;        [1, 2, 3]])</code></pre>
<pre class="r"><code># R
m &lt;- rbind(c(4, 6, 9),
           c(1, 3, 4),
           c(1, 2, 3))
m</code></pre>
<pre><code>#result&gt;&gt;      [,1] [,2] [,3]
#result&gt;&gt; [1,]    4    6    9
#result&gt;&gt; [2,]    1    3    4
#result&gt;&gt; [3,]    1    2    3</code></pre>
<p>Method 2</p>
<pre class="python"><code># Python
m = np.array([np.arange(5), 
              np.arange(5)])
m</code></pre>
<pre><code>#result&gt;&gt; array([[0, 1, 2, 3, 4],
#result&gt;&gt;        [0, 1, 2, 3, 4]])</code></pre>
<pre class="r"><code># R
m &lt;- rbind(0:4, 0:4)
m</code></pre>
<pre><code>#result&gt;&gt;      [,1] [,2] [,3] [,4] [,5]
#result&gt;&gt; [1,]    0    1    2    3    4
#result&gt;&gt; [2,]    0    1    2    3    4</code></pre>
<p>Method 3</p>
<pre class="python"><code># Python
m = np.array([4, 6, 9,
              1, 3, 4, 
              1, 2, 3]).reshape(3, 3)
m</code></pre>
<pre><code>#result&gt;&gt; array([[4, 6, 9],
#result&gt;&gt;        [1, 3, 4],
#result&gt;&gt;        [1, 2, 3]])</code></pre>
<pre class="r"><code># R
m &lt;- matrix(c(4, 6, 9,
              1, 3, 4,
              1, 2, 3), 3, 3, byrow = T)
m</code></pre>
<pre><code>#result&gt;&gt;      [,1] [,2] [,3]
#result&gt;&gt; [1,]    4    6    9
#result&gt;&gt; [2,]    1    3    4
#result&gt;&gt; [3,]    1    2    3</code></pre>
</div>
<div id="dimension" class="section level3">
<h3>Dimension</h3>
<pre class="python"><code># Python
m.shape</code></pre>
<pre><code>#result&gt;&gt; (3, 3)</code></pre>
<pre class="r"><code># R
dim(m)</code></pre>
<pre><code>#result&gt;&gt; [1] 3 3</code></pre>
</div>
<div id="access" class="section level3">
<h3>Access</h3>
<pre class="python"><code># Python
m[0, 0]; m[0, 1]; m[1, 0]; m[1, 1]</code></pre>
<pre><code>#result&gt;&gt; 4
#result&gt;&gt; 6
#result&gt;&gt; 1
#result&gt;&gt; 3</code></pre>
<pre class="r"><code># R
m[1, 1]; m[1, 2]; m[2, 1]; m[2, 2]</code></pre>
<pre><code>#result&gt;&gt; [1] 4</code></pre>
<pre><code>#result&gt;&gt; [1] 6</code></pre>
<pre><code>#result&gt;&gt; [1] 1</code></pre>
<pre><code>#result&gt;&gt; [1] 3</code></pre>
</div>
<div id="working-with-scalar" class="section level3">
<h3>working with scalar</h3>
<pre class="python"><code># Python
m2 = m + 2
m2; m - 5; m * 2; m / 2; m^2</code></pre>
<pre><code>#result&gt;&gt; array([[ 6,  8, 11],
#result&gt;&gt;        [ 3,  5,  6],
#result&gt;&gt;        [ 3,  4,  5]])
#result&gt;&gt; array([[-1,  1,  4],
#result&gt;&gt;        [-4, -2, -1],
#result&gt;&gt;        [-4, -3, -2]])
#result&gt;&gt; array([[ 8, 12, 18],
#result&gt;&gt;        [ 2,  6,  8],
#result&gt;&gt;        [ 2,  4,  6]])
#result&gt;&gt; array([[2. , 3. , 4.5],
#result&gt;&gt;        [0.5, 1.5, 2. ],
#result&gt;&gt;        [0.5, 1. , 1.5]])
#result&gt;&gt; array([[ 6,  4, 11],
#result&gt;&gt;        [ 3,  1,  6],
#result&gt;&gt;        [ 3,  0,  1]])</code></pre>
<pre class="r"><code># R
m2 &lt;- m + 2
m2;</code></pre>
<pre><code>#result&gt;&gt;      [,1] [,2] [,3]
#result&gt;&gt; [1,]    6    8   11
#result&gt;&gt; [2,]    3    5    6
#result&gt;&gt; [3,]    3    4    5</code></pre>
<pre class="r"><code>m2; m - 5; m * 2; m / 2; m^2</code></pre>
<pre><code>#result&gt;&gt;      [,1] [,2] [,3]
#result&gt;&gt; [1,]    6    8   11
#result&gt;&gt; [2,]    3    5    6
#result&gt;&gt; [3,]    3    4    5</code></pre>
<pre><code>#result&gt;&gt;      [,1] [,2] [,3]
#result&gt;&gt; [1,]   -1    1    4
#result&gt;&gt; [2,]   -4   -2   -1
#result&gt;&gt; [3,]   -4   -3   -2</code></pre>
<pre><code>#result&gt;&gt;      [,1] [,2] [,3]
#result&gt;&gt; [1,]    8   12   18
#result&gt;&gt; [2,]    2    6    8
#result&gt;&gt; [3,]    2    4    6</code></pre>
<pre><code>#result&gt;&gt;      [,1] [,2] [,3]
#result&gt;&gt; [1,]  2.0  3.0  4.5
#result&gt;&gt; [2,]  0.5  1.5  2.0
#result&gt;&gt; [3,]  0.5  1.0  1.5</code></pre>
<pre><code>#result&gt;&gt;      [,1] [,2] [,3]
#result&gt;&gt; [1,]   16   36   81
#result&gt;&gt; [2,]    1    9   16
#result&gt;&gt; [3,]    1    4    9</code></pre>
</div>
<div id="stacking" class="section level3">
<h3>Stacking</h3>
<p>Vertical stacking</p>
<pre class="python"><code># Python
m; m2</code></pre>
<pre><code>#result&gt;&gt; array([[4, 6, 9],
#result&gt;&gt;        [1, 3, 4],
#result&gt;&gt;        [1, 2, 3]])
#result&gt;&gt; array([[ 6,  8, 11],
#result&gt;&gt;        [ 3,  5,  6],
#result&gt;&gt;        [ 3,  4,  5]])</code></pre>
<pre class="python"><code>np.vstack((m, m2)) # == np.row_stack((m, m2))</code></pre>
<pre><code>#result&gt;&gt; array([[ 4,  6,  9],
#result&gt;&gt;        [ 1,  3,  4],
#result&gt;&gt;        [ 1,  2,  3],
#result&gt;&gt;        [ 6,  8, 11],
#result&gt;&gt;        [ 3,  5,  6],
#result&gt;&gt;        [ 3,  4,  5]])</code></pre>
<pre class="r"><code># R
m; m2</code></pre>
<pre><code>#result&gt;&gt;      [,1] [,2] [,3]
#result&gt;&gt; [1,]    4    6    9
#result&gt;&gt; [2,]    1    3    4
#result&gt;&gt; [3,]    1    2    3</code></pre>
<pre><code>#result&gt;&gt;      [,1] [,2] [,3]
#result&gt;&gt; [1,]    6    8   11
#result&gt;&gt; [2,]    3    5    6
#result&gt;&gt; [3,]    3    4    5</code></pre>
<pre class="r"><code>rbind(m, m2)</code></pre>
<pre><code>#result&gt;&gt;      [,1] [,2] [,3]
#result&gt;&gt; [1,]    4    6    9
#result&gt;&gt; [2,]    1    3    4
#result&gt;&gt; [3,]    1    2    3
#result&gt;&gt; [4,]    6    8   11
#result&gt;&gt; [5,]    3    5    6
#result&gt;&gt; [6,]    3    4    5</code></pre>
<p>Horizontal stacking</p>
<pre class="python"><code># Python
m; m2</code></pre>
<pre><code>#result&gt;&gt; array([[4, 6, 9],
#result&gt;&gt;        [1, 3, 4],
#result&gt;&gt;        [1, 2, 3]])
#result&gt;&gt; array([[ 6,  8, 11],
#result&gt;&gt;        [ 3,  5,  6],
#result&gt;&gt;        [ 3,  4,  5]])</code></pre>
<pre class="python"><code>np.hstack((m, m2)) # == np.column_stack((m, m2))</code></pre>
<pre><code>#result&gt;&gt; array([[ 4,  6,  9,  6,  8, 11],
#result&gt;&gt;        [ 1,  3,  4,  3,  5,  6],
#result&gt;&gt;        [ 1,  2,  3,  3,  4,  5]])</code></pre>
<pre class="r"><code># R
m; m2</code></pre>
<pre><code>#result&gt;&gt;      [,1] [,2] [,3]
#result&gt;&gt; [1,]    4    6    9
#result&gt;&gt; [2,]    1    3    4
#result&gt;&gt; [3,]    1    2    3</code></pre>
<pre><code>#result&gt;&gt;      [,1] [,2] [,3]
#result&gt;&gt; [1,]    6    8   11
#result&gt;&gt; [2,]    3    5    6
#result&gt;&gt; [3,]    3    4    5</code></pre>
<pre class="r"><code>cbind(m, m2)</code></pre>
<pre><code>#result&gt;&gt;      [,1] [,2] [,3] [,4] [,5] [,6]
#result&gt;&gt; [1,]    4    6    9    6    8   11
#result&gt;&gt; [2,]    1    3    4    3    5    6
#result&gt;&gt; [3,]    1    2    3    3    4    5</code></pre>
</div>
<div id="slicing" class="section level3">
<h3>Slicing</h3>
<p>Use <code>:</code> to select everything in the matrix</p>
<pre class="python"><code># Python
m</code></pre>
<pre><code>#result&gt;&gt; array([[4, 6, 9],
#result&gt;&gt;        [1, 3, 4],
#result&gt;&gt;        [1, 2, 3]])</code></pre>
<pre class="python"><code>m[:,0] # first column </code></pre>
<pre><code>#result&gt;&gt; array([4, 1, 1])</code></pre>
<pre class="python"><code>m[1,:] # second row</code></pre>
<pre><code>#result&gt;&gt; array([1, 3, 4])</code></pre>
<pre class="python"><code>m[0:2, 0:2] # first 2 by 2</code></pre>
<pre><code>#result&gt;&gt; array([[4, 6],
#result&gt;&gt;        [1, 3]])</code></pre>
<p>Use blank to select everything in the matrix</p>
<pre class="r"><code># R
m</code></pre>
<pre><code>#result&gt;&gt;      [,1] [,2] [,3]
#result&gt;&gt; [1,]    4    6    9
#result&gt;&gt; [2,]    1    3    4
#result&gt;&gt; [3,]    1    2    3</code></pre>
<pre class="r"><code>m[,1] # first column</code></pre>
<pre><code>#result&gt;&gt; [1] 4 1 1</code></pre>
<pre class="r"><code>m[2,] # second row</code></pre>
<pre><code>#result&gt;&gt; [1] 1 3 4</code></pre>
<pre class="r"><code>m[1:2, 1:2] # first 2 by 2</code></pre>
<pre><code>#result&gt;&gt;      [,1] [,2]
#result&gt;&gt; [1,]    4    6
#result&gt;&gt; [2,]    1    3</code></pre>
<div id="transpose" class="section level4">
<h4>Transpose</h4>
<pre class="python"><code># Python
m.transpose()</code></pre>
<pre><code>#result&gt;&gt; array([[4, 1, 1],
#result&gt;&gt;        [6, 3, 2],
#result&gt;&gt;        [9, 4, 3]])</code></pre>
<pre class="r"><code># R
t(m)</code></pre>
<pre><code>#result&gt;&gt;      [,1] [,2] [,3]
#result&gt;&gt; [1,]    4    1    1
#result&gt;&gt; [2,]    6    3    2
#result&gt;&gt; [3,]    9    4    3</code></pre>
</div>
<div id="identity-matrix-and-zeros" class="section level4">
<h4>Identity matrix and Zeros</h4>
<pre class="python"><code># Python
np.eye(3)</code></pre>
<pre><code>#result&gt;&gt; array([[1., 0., 0.],
#result&gt;&gt;        [0., 1., 0.],
#result&gt;&gt;        [0., 0., 1.]])</code></pre>
<pre class="python"><code>np.zeros((3, 3))</code></pre>
<pre><code>#result&gt;&gt; array([[0., 0., 0.],
#result&gt;&gt;        [0., 0., 0.],
#result&gt;&gt;        [0., 0., 0.]])</code></pre>
<pre class="python"><code>np.ones((3, 3))</code></pre>
<pre><code>#result&gt;&gt; array([[1., 1., 1.],
#result&gt;&gt;        [1., 1., 1.],
#result&gt;&gt;        [1., 1., 1.]])</code></pre>
<pre class="r"><code># R
diag(3)</code></pre>
<pre><code>#result&gt;&gt;      [,1] [,2] [,3]
#result&gt;&gt; [1,]    1    0    0
#result&gt;&gt; [2,]    0    1    0
#result&gt;&gt; [3,]    0    0    1</code></pre>
<pre class="r"><code>matrix(0, 3, 3)  # array(0, c(3, 3)) </code></pre>
<pre><code>#result&gt;&gt;      [,1] [,2] [,3]
#result&gt;&gt; [1,]    0    0    0
#result&gt;&gt; [2,]    0    0    0
#result&gt;&gt; [3,]    0    0    0</code></pre>
<pre class="r"><code>matrix(1, 3, 3)  # array(1, c(3, 3))</code></pre>
<pre><code>#result&gt;&gt;      [,1] [,2] [,3]
#result&gt;&gt; [1,]    1    1    1
#result&gt;&gt; [2,]    1    1    1
#result&gt;&gt; [3,]    1    1    1</code></pre>
</div>
<div id="matrix-multiplication" class="section level4">
<h4>Matrix multiplication</h4>
<pre class="python"><code># Python
np.dot(m, m2)  # m.dot(m2)</code></pre>
<pre><code>#result&gt;&gt; array([[ 69,  98, 125],
#result&gt;&gt;        [ 27,  39,  49],
#result&gt;&gt;        [ 21,  30,  38]])</code></pre>
<pre class="r"><code># R 
m %*% m2</code></pre>
<pre><code>#result&gt;&gt;      [,1] [,2] [,3]
#result&gt;&gt; [1,]   69   98  125
#result&gt;&gt; [2,]   27   39   49
#result&gt;&gt; [3,]   21   30   38</code></pre>
</div>
<div id="inverse-matrix" class="section level4">
<h4>Inverse matrix</h4>
<pre class="python"><code># Python
np.linalg.inv(m)</code></pre>
<pre><code>#result&gt;&gt; array([[ 1.0000000e+00, -8.8817842e-16, -3.0000000e+00],
#result&gt;&gt;        [ 1.0000000e+00,  3.0000000e+00, -7.0000000e+00],
#result&gt;&gt;        [-1.0000000e+00, -2.0000000e+00,  6.0000000e+00]])</code></pre>
<pre class="r"><code># R
solve(m)</code></pre>
<pre><code>#result&gt;&gt;      [,1]          [,2] [,3]
#result&gt;&gt; [1,]    1 -8.881784e-16   -3
#result&gt;&gt; [2,]    1  3.000000e+00   -7
#result&gt;&gt; [3,]   -1 -2.000000e+00    6</code></pre>
</div>
</div>
</div>
