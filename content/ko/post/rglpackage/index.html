---
authors:
- admin
date: "2020-03-26T00:00:00Z"
draft: false
featured: false
image:
  caption: ''
  focal_point: ""
  placement: 2
  preview_only: true
lastmod: "2020-03-26T00:00:00Z"
projects: [rpython]
subtitle: 'rgl을 이용한 3D plot 그리기'
summary: Python 3D array를 R로 변환 할 경우 주의점.
title: '3차원 GPS 그래프 그리기'
categories:
  - telematics
  - visualization
tags:
  - rgl
---



<div id="구글-맵에서의-루트-나타내기" class="section level3">
<h3>구글 맵에서의 루트 나타내기</h3>
<p>필자가 예전에 <a href="https://www.theissaclee.com/en/post/gpsvisulization/">GPS 데이터를 구글맵에서 나타낸 적</a>이 있는데, 똑같은 데이터를 사용하기로 하자. 다음과 같이 사각형의 길을 운전한 데이터이다.</p>
<p><img src="https://www.theissaclee.com/en/post/gpsvisulization/myanimation.gif" /></p>
<p>위에서 내려다보면 사각형이지만, 경사진 도로가 포함되어 있는데, 이것을 2D 그래프에서는 나타낼 수 없었다. 따라서 <code>rgl</code> 패키지를 이용하여 3D 그래프를 그리기로 결정했다.</p>
</div>
<div id="데이터-불러오기" class="section level3">
<h3>데이터 불러오기</h3>
<p>필자가 직접 만든 운전 데이터를 다운받고, GSP 정보만을 따와서 <code>gps_data</code>에 저장한다.</p>
<pre class="r"><code>mytelematics &lt;- read.csv(&quot;https://raw.githubusercontent.com/issactoast/theissacleedotcom/master/static/data/sampletrip.csv&quot;, header = TRUE, fill = TRUE)

gps_data &lt;- subset(mytelematics, select = c(Timestamp, Long, Lat, Alt.m.))
colnames(gps_data) &lt;- c(&quot;Timestamp&quot;, &quot;x&quot;, &quot;y&quot;, &quot;z&quot;)
head(gps_data)
#result&gt;&gt;                  Timestamp         x        y        z
#result&gt;&gt; 1 24-May-2019 18:11:23.018 -91.53799 41.66253 197.2922
#result&gt;&gt; 2 24-May-2019 18:11:23.056 -91.53799 41.66253 197.2922
#result&gt;&gt; 3 24-May-2019 18:11:23.097 -91.53799 41.66253 197.2821
#result&gt;&gt; 4 24-May-2019 18:11:23.138 -91.53799 41.66253 197.2821
#result&gt;&gt; 5 24-May-2019 18:11:23.171 -91.53799 41.66253 197.2821
#result&gt;&gt; 6 24-May-2019 18:11:23.212 -91.53799 41.66253 197.2821</code></pre>
<p>위도와 경도, 그리고 높이에 대한 정보가 담겨있는 것을 확인 할 수 있다.</p>
</div>
<div id="rgl-패키지" class="section level2">
<h2>rgl 패키지</h2>
<p><a href="https://cran.r-project.org/web/packages/rgl/vignettes/rgl.html">rgl</a> 패키지는 3d 그래프를 그려주는 도구로 사용하기 아주 유용하다. 왜냐하면 결과로 얻는 그래프를 마우스로 돌려볼 수 있기 때문이다.</p>
<pre class="r"><code>library(rgl)</code></pre>
</div>
